// Translations
const translations = {
  es: {
    nav: {
      home: "Inicio",
      about: "Sobre mí",
      projects: "Proyectos",
      videos: "Videos",
      achievements: "Otros Logros",
      contact: "Contacto",
    },
    hero: {
      name: "Adrià Molina Hernandez",
      badge: "Marketing Digital & Contenido",
      subtitle: "Especialista en Marketing Digital & Creador de Contenido",
      description: "Transformando ideas en estrategias digitales que conectan con audiencias globales",
      cta1: "Sobre mí",
      cta2: "Contacto",
    },
    about: {
      title: "Sobre mí",
      age: "21 años",
      downloadCV: "Descargar CV",
      intro:
        "Soy un profesional del marketing con formación en Marketing Internacional y una pasión genuina por la creación de contenido digital. Mi enfoque combina estrategia analítica con creatividad, buscando siempre generar conexiones auténticas con las audiencias.",
      intro2:
        "Con experiencia internacional y una mentalidad proactiva, me dedico a construir proyectos propios que reflejan mi visión del marketing moderno: cercano, auténtico y basado en datos.",
      educationTitle: "Formación Académica",
      skillsLabel: "Competencias y habilidades",
    },
    education: {
      items: [
        {
          title: "Ciclo Superior en Comercio Internacional",
          institution: "Centro de Formación Profesional",
          period: "2023 - 2025",
          skills: [
            "Gestión Logística Internacional",
            "Comercio Exterior",
            "Negociación Internacional",
            "Transporte y Aduanas",
            "Marketing Internacional",
            "Inglés Comercial",
            "Incoterms y Documentación",
            "Gestión de Operaciones",
          ],
        },
        {
          title: "Bachillerato Tecnológico",
          institution: "Instituto de Educación Secundaria",
          period: "2020 - 2022",
          skills: ["Tecnología Industrial", "Matemáticas", "Física y Química", "Dibujo Técnico", "Inglés"],
        },
      ],
    },
    experience: {
      title: "Experiencia Profesional",
      items: [
        {
          title: "Entorno corporativo internacional — Mainfreight",
          period: "Abril 2024 - Noviembre 2025",
          description: [
            "Trabajo en equipo, seguimiento de clientes y trato profesional en empresa internacional.",
            "Experiencia clave para confirmar mi orientación profesional hacia el marketing digital y la creación de contenido.",
          ],
        },
        {
          title: "Au Pair — Los Ángeles (EE. UU)",
          period: "Enero 2023 - Agosto 2023",
          description: [
            "Inmersión total en entorno extranjero a los 18 años.",
            "Desarrollo de comunicación, autonomía y adaptación cultural.",
            "Experiencia internacional que refuerza mentalidad global y seguridad profesional.",
          ],
        },
      ],
    },
    personalProjects: {
      title: "Proyectos Personales",
      items: [
        {
          title: "Creador de Contenido en Instagram",
          handle: "@_adrimolinaa",
          followers: "5,000 seguidores",
          description:
            "Mi proyecto más personal: una cuenta de Instagram enfocada en reels que ha crecido orgánicamente hasta alcanzar 5,000 seguidores. Este proyecto me ha permitido experimentar con estrategias de contenido, entender algoritmos y crear una comunidad auténtica. Cada día aprendo algo nuevo sobre storytelling visual, engagement y construcción de marca personal.",
          cta: "Ver perfil de Instagram",
          image: "images/profile-adria.png",
        },
      ],
    },
    achievements: {
      title: "Otros Logros",
      items: [
        {
          title: "Contenido Viral",
          role: "Creador de Contenido",
          description:
            "Varios vídeos con más de 2 millones de reproducciones cada uno, alcanzando audiencias masivas y generando alto engagement.",
          image: "viral-video-content-success.jpg",
        },
        {
          title: "Certificado en Inteligencia Artificial",
          role: "Alumno Certificado",
          description:
            "Curso completo de Inteligencia Artificial impartido por Anas Andaloussi, aprendiendo las últimas técnicas y aplicaciones de IA.",
          image: "images/ai-certification.jpg",
        },
        {
          title: "Formación en Creación de Contenido",
          role: "Alumno Certificado",
          description:
            "Formación especializada en creación de contenido para redes sociales impartida por Guille Collado, dominando estrategias de engagement.",
          image: "images/content-creation-training.jpg",
        },
      ],
    },
    videos: {
      title: "Ejemplo de Videos",
      caption: "Contenido para Redes Sociales",
    },
    contact: {
      title: "Contacto",
      email: "Email",
      phone: "Teléfono",
      location: "Ubicación",
    },
    footer: {
      copyright: "© 2025 Adrià Molina Hernandez. Todos los derechos reservados.",
    },
  },
  en: {
    nav: {
      home: "Home",
      about: "About",
      projects: "Projects",
      videos: "Videos",
      achievements: "Other Achievements",
      contact: "Contact",
    },
    hero: {
      name: "Adrià Molina Hernandez",
      badge: "Digital Marketing & Content",
      subtitle: "Digital Marketing Specialist & Content Creator",
      description: "Transforming ideas into digital strategies that connect with global audiences",
      cta1: "About me",
      cta2: "Contact",
    },
    about: {
      title: "About Me",
      age: "21 years old",
      downloadCV: "Download CV",
      intro:
        "I am a marketing professional with a background in International Marketing and a genuine passion for digital content creation. My approach combines analytical strategy with creativity, always seeking to generate authentic connections with audiences.",
      intro2:
        "With international experience and a proactive mindset, I dedicate myself to building my own projects that reflect my vision of modern marketing: close, authentic, and data-driven.",
      educationTitle: "Academic Background",
      skillsLabel: "Skills and competencies",
    },
    education: {
      items: [
        {
          title: "Higher Degree in International Trade",
          institution: "Vocational Training Center",
          period: "2023 - 2025",
          skills: [
            "International Logistics Management",
            "Foreign Trade",
            "International Negotiation",
            "Transport & Customs",
            "International Marketing",
            "Business English",
            "Incoterms & Documentation",
            "Operations Management",
          ],
        },
        {
          title: "Technological High School",
          institution: "Secondary Education Institute",
          period: "2020 - 2022",
          skills: ["Industrial Technology", "Mathematics", "Physics & Chemistry", "Technical Drawing", "English"],
        },
      ],
    },
    experience: {
      title: "Professional Experience",
      items: [
        {
          title: "International Corporate Environment — Mainfreight",
          period: "April 2024 - November 2025",
          description: [
            "Teamwork, client follow-up, and professional treatment in an international company.",
            "Key experience to confirm my professional orientation towards digital marketing and content creation.",
          ],
        },
        {
          title: "Au Pair — Los Angeles (USA)",
          period: "January 2023 - August 2023",
          description: [
            "Total immersion in a foreign environment at 18 years old.",
            "Development of communication, autonomy, and cultural adaptation.",
            "International experience that reinforces global mindset and professional confidence.",
          ],
        },
      ],
    },
    personalProjects: {
      title: "Personal Projects",
      items: [
        {
          title: "Instagram Content Creator",
          handle: "@_adrimolinaa",
          followers: "5,000 followers",
          description:
            "My most personal project: an Instagram account focused on reels that has grown organically to reach 5,000 followers. This project has allowed me to experiment with content strategies, understand algorithms, and create an authentic community. Every day I learn something new about visual storytelling, engagement, and personal brand building.",
          cta: "View Instagram profile",
          image: "images/profile-adria.png",
        },
      ],
    },
    achievements: {
      title: "Other Achievements",
      items: [
        {
          title: "Viral Content",
          role: "Content Creator",
          description:
            "Multiple videos with over 2 million views each, reaching massive audiences and generating high engagement.",
          image: "viral-video-content-success.jpg",
        },
        {
          title: "AI Certification",
          role: "Certified Student",
          description: "Completed AI course by Anas Andaloussi, learning the latest techniques and applications of AI.",
          image: "images/ai-certification.jpg",
        },
        {
          title: "Content Creation Training",
          role: "Certified Student",
          description:
            "Specialized training in social media content creation by Guille Collado, mastering engagement strategies.",
          image: "images/content-creation-training.jpg",
        },
      ],
    },
    videos: {
      title: "Video Examples",
      caption: "Social Media Content",
    },
    contact: {
      title: "Contact",
      email: "Email",
      phone: "Phone",
      location: "Location",
    },
    footer: {
      copyright: "© 2025 Adrià Molina Hernandez. All rights reserved.",
    },
  },
}

// State
let currentLanguage = "es"
let isDarkMode = false
let expandedEducation = null

// Initialize
document.addEventListener("DOMContentLoaded", () => {
  initTheme()
  initLanguage()
  initEventListeners()
  renderEducation()
  renderExperience()
  renderProjects()
  renderAchievements()
  updateTranslations()
})

// Theme
function initTheme() {
  const savedTheme = localStorage.getItem("theme")
  if (savedTheme === "dark") {
    isDarkMode = true
    document.documentElement.classList.add("dark")
    updateThemeIcon()
  }
}

function toggleTheme() {
  isDarkMode = !isDarkMode
  if (isDarkMode) {
    document.documentElement.classList.add("dark")
    localStorage.setItem("theme", "dark")
  } else {
    document.documentElement.classList.remove("dark")
    localStorage.setItem("theme", "light")
  }
  updateThemeIcon()
}

function updateThemeIcon() {
  const moonIcon = document.querySelector(".moon-icon")
  const sunIcon = document.querySelector(".sun-icon")
  if (isDarkMode) {
    moonIcon.classList.add("hidden")
    sunIcon.classList.remove("hidden")
  } else {
    moonIcon.classList.remove("hidden")
    sunIcon.classList.add("hidden")
  }
}

// Language
function initLanguage() {
  const savedLanguage = localStorage.getItem("language")
  if (savedLanguage && (savedLanguage === "es" || savedLanguage === "en")) {
    currentLanguage = savedLanguage
  }
  updateLanguageButton()
}

function toggleLanguage() {
  currentLanguage = currentLanguage === "es" ? "en" : "es"
  localStorage.setItem("language", currentLanguage)
  updateLanguageButton()
  updateTranslations()
  renderEducation()
  renderExperience()
  renderProjects()
  renderAchievements()
}

function updateLanguageButton() {
  const btn = document.getElementById("language-toggle")
  btn.textContent = currentLanguage.toUpperCase()
}

function updateTranslations() {
  const elements = document.querySelectorAll("[data-i18n]")
  elements.forEach((el) => {
    const key = el.getAttribute("data-i18n")
    const keys = key.split(".")
    let value = translations[currentLanguage]
    for (const k of keys) {
      value = value[k]
    }
    el.textContent = value
  })
}

// Event Listeners
function initEventListeners() {
  document.getElementById("theme-toggle").addEventListener("click", toggleTheme)
  document.getElementById("language-toggle").addEventListener("click", toggleLanguage)

  // Smooth scroll for navigation links
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault()
      const target = document.querySelector(this.getAttribute("href"))
      if (target) {
        target.scrollIntoView({ behavior: "smooth" })
      }
    })
  })
}

// Render Education
function renderEducation() {
  const container = document.getElementById("education-list")
  const t = translations[currentLanguage]
  container.innerHTML = t.education.items
    .map(
      (item, index) => `
    <div class="education-item">
      <div class="education-header" onclick="toggleEducation(${index})">
        <div class="education-info">
          <h4 class="education-title">${item.title}</h4>
          <p class="education-institution">${item.institution}</p>
          <p class="education-period">${item.period}</p>
        </div>
        <svg class="education-chevron ${expandedEducation === index ? "expanded" : ""}" id="chevron-${index}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </div>
      <div class="education-skills ${expandedEducation === index ? "" : "hidden"}" id="skills-${index}">
        <p class="education-skills-title">${t.about.skillsLabel}:</p>
        <div class="skills-grid">
          ${item.skills.map((skill) => `<span class="skill-badge">${skill}</span>`).join("")}
        </div>
      </div>
    </div>
  `,
    )
    .join("")
}

function toggleEducation(index) {
  expandedEducation = expandedEducation === index ? null : index
  renderEducation()
}

// Render Experience
function renderExperience() {
  const container = document.getElementById("experience-list")
  const t = translations[currentLanguage]
  container.innerHTML = t.experience.items
    .map(
      (item) => `
    <div class="experience-item">
      <div class="experience-content">
        <div class="experience-icon">
          <div class="experience-dot"></div>
        </div>
        <div class="experience-details">
          <h4 class="experience-title">${item.title}</h4>
          <p class="experience-period">${item.period}</p>
          <div class="experience-description">
            ${item.description.map((line) => `<p>${line}</p>`).join("")}
          </div>
        </div>
      </div>
    </div>
  `,
    )
    .join("")
}

// Render Projects
function renderProjects() {
  const container = document.getElementById("projects-list")
  const t = translations[currentLanguage]
  container.innerHTML = t.personalProjects.items
    .map(
      (item) => `
    <div class="project-item">
      <div class="project-content">
        <div class="project-image-wrapper">
          <img src="${item.image}" alt="${item.title}" class="project-image">
        </div>
        <div class="project-details">
          <h3 class="project-title">${item.title}</h3>
          <div class="project-meta">
            <span class="project-handle">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
              ${item.handle}
            </span>
            <span class="project-followers">${item.followers}</span>
          </div>
          <p class="project-description">${item.description}</p>
          <a href="https://instagram.com/${item.handle.replace("@", "")}" target="_blank" class="btn btn-primary">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
              <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
              <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
            </svg>
            ${item.cta}
          </a>
        </div>
      </div>
    </div>
  `,
    )
    .join("")
}

// Render Achievements
function renderAchievements() {
  const container = document.getElementById("achievements-list")
  const t = translations[currentLanguage]
  container.innerHTML = t.achievements.items
    .map(
      (item) => `
    <div class="achievement-item">
      <div class="achievement-image-wrapper">
        <img src="${item.image}" alt="${item.title}" class="achievement-image">
      </div>
      <h3 class="achievement-title">${item.title}</h3>
      <span class="achievement-role">${item.role}</span>
      <p class="achievement-description">${item.description}</p>
    </div>
  `,
    )
    .join("")
}
